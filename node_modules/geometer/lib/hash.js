'use strict';

exports.__esModule = true;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _binarySortableHash = require('binary-sortable-hash');

var _binarySortableHash2 = _interopRequireDefault(_binarySortableHash);

var radix64 = require('radix-64')();

exports['default'] = {
  encode: function encode(tuple, precision) {
    var hash = _binarySortableHash2['default'](tuple, { precision: precision });
    var length = Math.ceil((2 ^ precision) / 64);
    var r64Hash = radix64.encodeInt(parseInt(hash, 2), length);
    console.log('encoded val:', hash, length, r64Hash);
    return r64Hash;
  },
  decode: function decode(r64Hash) {
    var hash = radix64.decodeToInt(r64Hash);
    var tuple = _binarySortableHash2['default'].decode(hash, 2);
    console.log('decode', hash, tuple);
    return tuple;
  }
};
module.exports = exports['default'];