import sortableHash from 'binary-sortable-hash'
var radix64 = require('radix-64')()

export default {
  encode: (tuple, precision) => {
    let hash = sortableHash(tuple, { precision })
    let length = Math.ceil((2^precision)/64)
    let r64Hash = radix64.encodeInt(parseInt(hash, 2), length)
    console.log('encoded val:', hash, length, r64Hash)
    return r64Hash
  },
  decode: (r64Hash) => {
    let hash = radix64.decodeToInt(r64Hash)
    let tuple = sortableHash.decode(hash, 2)
    console.log('decode', hash, tuple)
    return tuple
  }
}
